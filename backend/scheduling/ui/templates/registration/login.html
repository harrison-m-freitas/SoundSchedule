{% load static %}
{% load widget_tweaks %}
<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <title>Entrar — Escala da Mesa de Som</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-100 flex items-center justify-center p-4">
  <div class="w-full max-w-md">
    <div class="bg-white rounded-xl shadow ring-1 ring-black/5 overflow-hidden">
      <div class="px-6 py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white">
        <h1 class="text-lg font-semibold">Entrar</h1>
        <p class="text-sm opacity-90">Use suas credenciais fornecidas pelo administrador.</p>
      </div>

      <form method="post" class="p-6 space-y-4" action="{% url 'login' %}">
        {% csrf_token %}
        {% if form.non_field_errors %}
          <div class="p-3 rounded-lg bg-red-50 text-red-800 text-sm">
            {{ form.non_field_errors }}
          </div>
        {% endif %}

        {% with input='block w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500' label='block text-sm font-medium text-gray-700' help='mt-1 text-xs text-gray-500' err='mt-1 text-sm text-red-600' %}
          <div>
            <label for="{{ form.username.id_for_label }}" class="{{ label }}">
              Usuário
            </label>
            {{ form.username|add_class:input }}
            {% if form.username.errors %}
              <p class="{{ err }}">{{ form.username.errors|striptags }}</p>
            {% endif %}
          </div>

          <div>
            <label for="{{ form.password.id_for_label }}" class="{{ label }}">
              Senha
            </label>
            {{ form.password|add_class:input }}
            {% if form.password.help_text %}
              <p class="{{ help }}">{{ form.password.help_text }}</p>
            {% endif %}
            {% if form.password.errors %}
              <p class="{{ err }}">{{ form.password.errors|striptags }}</p>
            {% endif %}
          </div>

          {% if next %}
            <input type="hidden" name="next" value="{{ next }}">
          {% endif %}

          <div class="pt-2 flex items-center justify-end gap-3">
            <button type="submit"
                    class="px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500">
              Entrar
            </button>
          </div>
        {% endwith %}
      </form>
    </div>

    <p class="mt-3 text-center text-sm text-gray-500">
      Precisa de acesso? Solicite ao administrador.
    </p>
  </div>
</body>
</html>
